@using QLCUNL.Models
@{
    ViewData["Title"] = "Tất cả thuộc tính";
}
<div class="row">
    <div class="col-md-6">
         <h3>Danh sách thuộc tính</h3>
    </div>
    <div class="col-md-6 text-right"><a asp-action="Add" class="btn-size btn btn-primary" style="color: #fff">Tạo mới</a></div>
</div>
<div class="row">
    <div class="col-sm-6">
        <label>Tìm kiếm theo</label>
        <div class="div-input form-group">            
            <select class="form-control" id="loai" name="loai" asp-items="Html.GetEnumSelectList<LoaiThuocTinh>()" onchange="search(1)">
                <option selected="selected" value="-1">---Thuộc tính theo đối tượng---</option>
            </select>
        </div>
        <div class="div-input form-group">
            <input placeholder="Tìm kiếm" name="term" class="form-control"/>
            <button id="btn_search" class="btn-size btn btn-primary" onclick="search(1)">Tìm</button>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <div id="div_thuoc_tinh" class="collapse">@Html.Raw(ViewBag.thuoc_tinh_checkbox)</div>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <div class="totalRecs text-right">Tổng số bản ghi:</div>
        <table class="table table-striped">
            <thead class="thead-light">
                <tr>
                    <th>
                        Tên
                    </th>
                    <th>
                        Nhóm
                    </th>
                    <th>
                        Đối tượng
                    </th>

                    <th>@ViewBag.Shared / @ViewBag.Private</th>
                    <th>Người tạo</th>
                    <th></th>
                </tr>
            </thead>
            <tbody id="all_thuoc_tinh">
            </tbody>
        </table>
    </div>
</div>
<div style="text-align: center; width: 100%; display: inline-flex; justify-content: center">
    <div class="d-flex text-center data-container">
        <div class="paging">
        </div>
    </div>
</div>
<script asp-append-version="true" src="~/js/thuoc_tinh.js"></script>
<script>
    let shared = "@ViewBag.Shared";
    let private = "@ViewBag.Private";

    $(function () {
        $(`[name='term']`).keypress(function (event) {
            if (event.keyCode == 13) {
                search(1);
            }
        });
        $("#btn_search").click(function () {
            search(1);
        });
        search(1);
    })
</script>